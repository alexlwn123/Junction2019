{"ast":null,"code":"import axios from 'axios';\nconst baseURL = 'http://localhost:3001';\nexport const useDataService = (state, dispatch) => {\n  const getQuestions = () => {\n    axios.get(\"\".concat(baseURL, \"/questions\")).then(res => {\n      dispatch({\n        type: 'FETCH_QUESTIONS',\n        payload: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const addQuestion = question => {\n    axios.post(\"\".concat(baseURL, \"/questions\"), question).then(res => {\n      console.log(res.data);\n      dispatch({\n        type: 'ADD_QUESTIONS',\n        payload: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return {\n    getQuestions,\n    addQuestion\n  };\n};","map":{"version":3,"sources":["/Users/Mehdi/Junction2019/src/services/dataService.ts"],"names":["axios","baseURL","useDataService","state","dispatch","getQuestions","get","then","res","type","payload","data","catch","err","console","log","addQuestion","question","post"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,MAAMC,OAAO,GAAG,uBAAhB;AAGA,OAAO,MAAMC,cAAc,GAAG,CAACC,KAAD,EAAmBC,QAAnB,KAAsD;AAChF,QAAMC,YAAY,GAAG,MAAM;AACvBL,IAAAA,KAAK,CAACM,GAAN,WAAaL,OAAb,iBACCM,IADD,CACMC,GAAG,IAAI;AACTJ,MAAAA,QAAQ,CAAC;AACLK,QAAAA,IAAI,EAAE,iBADD;AAELC,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFR,OAAD,CAAR;AAIH,KAND,EAOCC,KAPD,CAOOC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KATD;AAUH,GAXD;;AAYA,QAAMG,WAAW,GAAIC,QAAD,IAAyB;AACzCjB,IAAAA,KAAK,CAACkB,IAAN,WAAcjB,OAAd,iBAAmCgB,QAAnC,EACCV,IADD,CACMC,GAAG,IAAI;AACTM,MAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACG,IAAhB;AACDP,MAAAA,QAAQ,CAAC;AACJK,QAAAA,IAAI,EAAE,eADF;AAEJC,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFT,OAAD,CAAR;AAIF,KAPD,EAQCC,KARD,CAQOC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAVD;AAWH,GAZD;;AAcA,SAAO;AACHR,IAAAA,YADG;AAEHW,IAAAA;AAFG,GAAP;AAIH,CA/BM","sourcesContent":["import { Dispatch } from 'react';\nimport axios from 'axios';\nimport { DataState, DataAction, IQuestion } from '../reducers/dataReducer';\n\nconst baseURL = 'http://localhost:3001'\n\n\nexport const useDataService = (state: DataState, dispatch: Dispatch<DataAction>) => {\n    const getQuestions = () => {\n        axios.get(`${baseURL}/questions`)\n        .then(res => {\n            dispatch({\n                type: 'FETCH_QUESTIONS',\n                payload: res.data\n            })\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    };\n    const addQuestion = (question: IQuestion) => {\n        axios.post(`${baseURL}/questions`, question)\n        .then(res => {\n            console.log(res.data)\n           dispatch({\n                type: 'ADD_QUESTIONS',\n                payload: res.data\n            })\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n    \n    return {\n        getQuestions,\n        addQuestion\n    };\n};"]},"metadata":{},"sourceType":"module"}