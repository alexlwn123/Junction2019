{"ast":null,"code":"import axios from 'axios';\nconst baseURL = 'http://localhost:3001';\nexport const useDataService = (state, dispatch) => {\n  const getQuestions = () => {\n    axios.get(\"\".concat(baseURL, \"/questions\")).then(res => {\n      console.log(res.data.questions);\n      /*  dispatch({\n           type: 'FETCH_QUESTIONS',\n           payload: res.data\n       }) */\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const addQuestion = question => {\n    axios.post(\"\".concat(baseURL, \"/questions\"), question).then(res => {\n      console.log(res.data);\n      dispatch({\n        type: 'ADD_QUESTIONS',\n        payload: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return {\n    getQuestions,\n    addQuestion\n  };\n};","map":{"version":3,"sources":["/Users/Mehdi/Junction2019/src/services/dataService.ts"],"names":["axios","baseURL","useDataService","state","dispatch","getQuestions","get","then","res","console","log","data","questions","catch","err","addQuestion","question","post","type","payload"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,MAAMC,OAAO,GAAG,uBAAhB;AAGA,OAAO,MAAMC,cAAc,GAAG,CAACC,KAAD,EAAmBC,QAAnB,KAAsD;AAChF,QAAMC,YAAY,GAAG,MAAM;AACvBL,IAAAA,KAAK,CAACM,GAAN,WAAaL,OAAb,iBACCM,IADD,CACMC,GAAG,IAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,SAArB;AACD;;;;AAIF,KAPD,EAQCC,KARD,CAQOC,GAAG,IAAI;AACVL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,KAVD;AAWH,GAZD;;AAaA,QAAMC,WAAW,GAAIC,QAAD,IAAyB;AACzChB,IAAAA,KAAK,CAACiB,IAAN,WAAchB,OAAd,iBAAmCe,QAAnC,EACCT,IADD,CACMC,GAAG,IAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACDP,MAAAA,QAAQ,CAAC;AACJc,QAAAA,IAAI,EAAE,eADF;AAEJC,QAAAA,OAAO,EAAEX,GAAG,CAACG;AAFT,OAAD,CAAR;AAIF,KAPD,EAQCE,KARD,CAQOC,GAAG,IAAI;AACVL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,KAVD;AAWH,GAZD;;AAcA,SAAO;AACHT,IAAAA,YADG;AAEHU,IAAAA;AAFG,GAAP;AAIH,CAhCM","sourcesContent":["import { Dispatch } from 'react';\nimport axios from 'axios';\nimport { DataState, DataAction, IQuestion } from '../reducers/dataReducer';\n\nconst baseURL = 'http://localhost:3001'\n\n\nexport const useDataService = (state: DataState, dispatch: Dispatch<DataAction>) => {\n    const getQuestions = () => {\n        axios.get(`${baseURL}/questions`)\n        .then(res => {\n            console.log(res.data.questions)\n           /*  dispatch({\n                type: 'FETCH_QUESTIONS',\n                payload: res.data\n            }) */\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    };\n    const addQuestion = (question: IQuestion) => {\n        axios.post(`${baseURL}/questions`, question)\n        .then(res => {\n            console.log(res.data)\n           dispatch({\n                type: 'ADD_QUESTIONS',\n                payload: res.data\n            })\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n    \n    return {\n        getQuestions,\n        addQuestion\n    };\n};"]},"metadata":{},"sourceType":"module"}